<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>
<body>
    
</body>
</html>
<script>
    document.write("____________________________<br>")
    let car = {
        carModel : ["Seltos","Sonet","Carnival"],
        carColor: ["White","Black"],
        driveMode : ["Automatic transmission", "Manual transmission"]
    }
    let is_showroom_open = true;
    let order = (time, work)=>{
        return new Promise((resolve,reject)=>{
            if(is_showroom_open){
                setTimeout(()=>{
                    resolve(work());
                },time)
            }else{
                reject(document.write("Our showroom is closed<br>"));
            }
        })
    }
    order(5000,()=> {
        document.write(`The customer has booked ${car.carModel[2]}<br>`)
    }).then(()=>{
        return order(1000,()=>{
            document.write("Production has started<br>")
        })
    }).then(()=>{
        return order(3000,()=>{
            document.write(`Customer has selected ${car.driveMode[0]}<br>`)
        })
    }).then(()=>{
        return order(4000,()=>{
            document.write("The car parts are assembled based on drive mode selected<br>");
        })
    }).then(()=>{
        return order(5000,()=>{
            document.write(`Customer has choosen ${car.carColor[1]}<br>`);
        })
    }).then(()=>{
        return order(10000,()=>{
            document.write("Car is colored and also delivered<br>");
        })
    }).catch(()=>{
        document.write("Hence, customer left<br>");
    }).finally(()=>{
        document.write("Late evening the showroom is locked!!");
    })
</script>